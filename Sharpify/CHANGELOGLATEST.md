# CHANGELOG

* **BREAKING** `StringBuffer`s and `AllocatedStringBuffer`s constructor have been made internal, to enforce usage of the factory methods. The factory methods of both are now under `StringBuffer` and vary by name to indicate the type you are getting back. `StringBuffer.Rent(capacity)` will return a `StringBuffer` which rents memory from the array pool. And `StringBuffer.Create(Span{char})` will return an `AllocatedStringBuffer` which works on pre-allocated buffer. `StringBuffer` still implements `IDisposable` so should be used together with a `using` statement or keyword. Also, the implicit converters should now be prioritized to be inlined by the compiler.
  * It should be noted that in some cases **JetBrains Rider** marks it an error when the implicit operator to string is used in return statements of a method, this is not an actual error, it compiles and works fine, rather seems as an intellisense failure. If this bothers you, use `.Allocate(true)` instead, it does the same thing.
* Added newer faster and memory memory efficient concurrent APIs whose entry point is `AsyncLocal<IList<T>>`, for more information check the updated `Parallel` section in the repo Wiki.
* Added `Dictionary{K,V}.CopyTo((K,V)[], index)` extension (as built-in one isn't available without casting.)
* Added `RentBufferAndCopyEntries(Dictionary<K,V>)` extension method that returns a tuple of the reference to the rented buffer and array segment over the buffer with the correct range, simplifying renting buffers for a copy of the dictionary contents to perform parallel operations on it.
* Added `ReturnRentedBuffer(T[])` extension to supplement the entry above, or with any `ArrayPool<T>.Shared.Rent` call.
