# Collection Extensions

```csharp
public static Span<T> AsSpan<T>(this List<T> list)
public static ref TValue GetValueRefOrNullRef<TKey, TValue>(this Dictionary<TKey, TValue> dictionary, TKey key) where TKey : notnull
public static ref TValue? GetValueRefOrAddDefault<TKey, TValue>(this Dictionary<TKey, TValue> dictionary, TKey key, out bool exists) where TKey : notnull
```
These methods are shortcuts to the methods inside the `CollectionsMarshal` class.

```csharp
public static T[] PureSort<T>(this T[] source, IComparer<T> comparer)
public static List<T> PureSort<T>(this IEnumerable<T> source, IComparer<T> comparer)
```
These methods utilize the more optimized `List<T>.Sort` but on a copied collection in order to avoid modifying the source collection. using `List<T>.Sort` allows much more efficient sorting than using the `IEnumerable<T>.OrderBy`.

```csharp
public static void RemoveDuplicatesSorted<T>(this List<T> list, IComparer<T> comparer)
public static void SortAndRemoveDuplicates<T>(this List<T> list, IComparer<T> comparer)
```
These methods remove duplicate items from an already sorted list, or it sorts the list and then removes the duplicates. This is much more efficient than using `IEnumerable<T>.Distinct().ToList()`

# DateTime Extensions

```csharp
public static string Format(this TimeSpan elapsed)
```
This method produces a string of rounded elapsed time to the nearest floored time unit, for example when the time is less than a second it will return rounded milliseconds, when less than a minutes, rounded seconds, and so on and so forth until the last unit which is days.

```csharp
public static string ToRemainingDuration(this TimeSpan time)
```
This method will return a string representation of a `TimeSpan` as remaining duration. It will use the time units to produce a formatted string like `Xd Xh Xm Xs` and the function will determine if any is 0 and remove them, so if minutes are 0, `0m` will not be in the output string.

This function uses a `ThreadLocal StringBuilder` to optimize its entire operation and prevent issues when multiple threads are calling it.

```csharp
public static string ToTimeStamp(this DateTime time)
```
This function returns the `DateTime` formatted as `HHMM-dd-mmm-yy`, it uses a `stack allocated buffer` to ensure maximum performance and 0 garbage collection.

# Unmanaged Extensions

```csharp
public static string FormatBytes(this long bytes)
public static string FormatBytes(this double bytes)
```
This function formats bytes to friendlier strings, i.e: B,KB,MB,TB,PB.

It uses a large amount of constants together with mathematical tricks and a `ThreadLocal StringBuilder` to achieve the absolute best performance possible for what it does, it was heavily benchmarked against many different alternative implementations, and this was the fastest and allocated the least amount of memory.

```csharp
public static bool TryParseAsEnum<TEnum>(this string value, out TEnum result) where TEnum : struct, Enum
```
This is a shortcut to `Enum.TryParse` which makes the code more readable and easier to use.

# String Extensions

```csharp
public static bool IsNullOrEmpty(this string str)
public static bool IsNullOrWhiteSpace(this string str)
```
These are shortcuts that make the `string.IsNullOrEmpty/IsNullOrWhiteSpace` easier to use.

```csharp
public static int ConvertToInt32(this string value)
public static int ConvertsToInt32Unsigned(this ReadOnlySpan<char> str)
public static void ConvertToInt32Unsigned(this ReadOnlySpan<char> str, ref int num)
public static int ConvertToInt32Unsigned(this string str)
public static bool TryConvertToInt32(this string value, ref int num)
```
These functions convert a `string` to `int32` using `Span` and numeric char manipulation to improve performance. the methods marked as `Unsigned` do not handle negation signs so they will produce `-1` for any input that isn't a valid non-negative number. You can use this to validate if it failed to convert the number.

```csharp
public static string Suffix(this string value, ReadOnlySpan<char> suffix)
```
This method is slightly slower than using `StringInterpolation` or `string.Concat` but uses half the memory. The advantage is diminished when the method is called multiple times to join more than 2 strings.

```csharp
public static string Concat(this string value, ReadOnlySpan<char> suffix)
```
This method is a shortcut to `string.Concat`, when joining 2 unformatted strings, it is much faster than `StringInterpolation`.

```csharp
public static string ToTitle(this string str)
```
This method converts a `string` to title case.

```csharp
public static bool IsBinary(this string str)
```
This method checks whether `str` is in binary, as in it contains only `1`/`0`/`WhiteSpace`s.