# Utils

Utils is a static class that provides advanced options that wouldn't be straight forward as extensions, it has static subclasses that are classified by their area of operation.

## Utils.DateAndTime

```csharp
// Returns the date time as value task that can be fired and awaited to be later used, removing the need to synchronously wait for it
ValueTask<DateTime> GetCurrentTimeAsync();
// Same but returns the binary representation
ValueTask<long> GetCurrentTimeInBinaryAsync();
// Formats time span into a span of characters and returns the written portion
ReadOnlySpan<char> FormatTimeSpan(TimeSpan timeSpan, Span<char> buffer);
// Formats the time span into a string
string FormatTimeSpan(TimeSpan timeSpan);
// Formats the time stamp into a span of characters and returns the written portion
ReadOnlySpan<char> FormatTimeStamp(DateTime time, Span<char> buffer);
// Formats the time stamp into a string
string FormatTimeStamp(DateTime time);
```

## Utils.Env

```csharp
bool IsRunningOnWindows();
bool IsRunningAsAdmin();
string GetBaseDirectory();
bool IsInternetAvailable;
string PathInBaseDirectory(string filename); // Returns a filename combined with the base directory
void OpenLink(string url); // semi-cross-platform (works on Windows, Mac and Linux)
```

## Utils.Mathematics

```csharp
double RollingAverage(double oldAverage, double newNumber, int sampleCount);
double Factorial(double n);
double FibonacciApproximation(int n);
```

## Utils.Strings

```csharp
// Format bytes into to a text containing the largest storage unit with 2 decimals places and the storage unit
// i.e 5.23 MB or 6.77 TB and so on...
string FormatBytes(double bytes);
string FormatBytes(long bytes);
// Formats the bytes in the same format to a buffer and returns the written span
ReadOnlySpan<char> FormatBytes(double bytes, Span<char> buffer);
ReadOnlySpan<char> FormatBytes(long bytes, Span<char> buffer);
```

## Utils.Unsafe

```csharp
Func<T, int> CreateIntegerPredicate<T>(Func<T, bool> predicate);
unsafe Span<T> AsMutableSpan<T>(ReadOnlySpan<T> span);
bool TryUnbox<T>(object obj, out T value) where T : struct;
```
